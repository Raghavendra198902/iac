# ============================================
# IAC Dharma Platform - Master Configuration
# ============================================
# Copy this file to .env and fill in values
# NEVER commit .env file to version control
# ============================================

# Environment
NODE_ENV=development
PYTHON_ENV=development

# Security Secrets (CHANGE IN PRODUCTION!)
# Use scripts/generate-secrets.sh to generate secure values
JWT_SECRET=CHANGE_ME_min_32_chars_random_string
JWT_REFRESH_SECRET=CHANGE_ME_different_min_32_chars
SESSION_SECRET=CHANGE_ME_session_secret_min_32_chars

# Database
DB_HOST=postgres
DB_PORT=5432
DB_NAME=iac_dharma
DB_USER=dharma_admin
DB_PASSWORD=CHANGE_ME_secure_password

# Database Pool Configuration
DB_POOL_MAX=20
DB_POOL_MIN=2
DB_IDLE_TIMEOUT=30000
DB_CONNECT_TIMEOUT=5000

# Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_or_leave_empty

# Service URLs (Docker Compose Internal)
API_GATEWAY_URL=http://api-gateway:3000
BLUEPRINT_SERVICE_URL=http://blueprint-service:3001
IAC_GENERATOR_URL=http://iac-generator:3002
GUARDRAILS_ENGINE_URL=http://guardrails-engine:3003
COSTING_SERVICE_URL=http://costing-service:3004
ORCHESTRATOR_SERVICE_URL=http://orchestrator-service:3005
AUTOMATION_ENGINE_URL=http://automation-engine:3006
MONITORING_SERVICE_URL=http://monitoring-service:3007
AI_ENGINE_URL=http://ai-engine:8000
CLOUD_PROVIDER_SERVICE_URL=http://cloud-provider-service:3010
AI_RECOMMENDATIONS_SERVICE_URL=http://ai-recommendations-service:3011
SSO_SERVICE_URL=http://sso-service:3012

# Cloud Provider Credentials (Fill if using)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1

AZURE_SUBSCRIPTION_ID=
AZURE_TENANT_ID=
AZURE_CLIENT_ID=
AZURE_CLIENT_SECRET=

GCP_PROJECT_ID=
GCP_SERVICE_ACCOUNT_KEY_PATH=

# SSO Configuration (Optional - set SSO_ENABLED=false if not using)
SSO_ENABLED=false
SAML_ENTRY_POINT=
SAML_ISSUER=iac-dharma
SAML_CERT=
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Monitoring & Tracing
JAEGER_ENDPOINT=http://jaeger:14268/api/traces
PROMETHEUS_URL=http://prometheus:9090
GRAFANA_URL=http://grafana:3000

# Frontend
FRONTEND_URL=http://localhost:5173
VITE_API_URL=http://localhost:3000

# CORS - Comma-separated list of allowed origins
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,http://localhost:4173

# Feature Flags
ENABLE_AI_RECOMMENDATIONS=true
ENABLE_COST_OPTIMIZATION=true
ENABLE_DRIFT_DETECTION=true

# Intervals (milliseconds)
DRIFT_CHECK_INTERVAL=300000
HEALTH_CHECK_INTERVAL=60000
COST_CHECK_INTERVAL=3600000

# Logging
LOG_LEVEL=info
SERVICE_NAME=dharma-platform

# Rate Limiting
API_RATE_LIMIT=1000
API_RATE_WINDOW=15m

# Message Queue (Optional - if using RabbitMQ)
RABBITMQ_URL=amqp://dharma:dharma_pass_dev@rabbitmq:5672
KAFKA_BROKERS=localhost:9092

# Vault (Optional - if using HashiCorp Vault)
VAULT_ADDR=http://localhost:8200
VAULT_TOKEN=

# External Integrations (Optional)
SERVICENOW_URL=
SERVICENOW_USERNAME=
SERVICENOW_PASSWORD=

JIRA_URL=
JIRA_USERNAME=
JIRA_API_TOKEN=

# AI/ML Configuration (Optional)
OPENAI_API_KEY=
AI_MODEL_PATH=./ml-models

# Object Storage (Optional)
S3_BUCKET_NAME=iac-dharma-artifacts
AZURE_STORAGE_ACCOUNT=
AZURE_STORAGE_KEY=

# ============================================
# Setup Instructions:
# 1. Copy this file: cp .env.template .env
# 2. Run: ./scripts/generate-secrets.sh
# 3. Copy generated secrets to .env
# 4. Fill in cloud credentials if needed
# 5. Verify .env is in .gitignore
# ============================================
