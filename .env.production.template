# IAC Dharma v2.0.0 - Production Environment Template
# Copy this file to .env.production and update with your values
# IMPORTANT: Never commit .env.production to git!

# Application
NODE_ENV=production
VERSION=v2.0.0
PORT=3000

# Database Configuration
DB_HOST=postgres
DB_PORT=5432
DB_NAME=iac_dharma
DB_USER=dharma_admin
DB_PASSWORD=CHANGE_ME_SECURE_PASSWORD_HERE
DB_POOL_MIN=5
DB_POOL_MAX=20

# PgBouncer Configuration
PGBOUNCER_PORT=6432
PGBOUNCER_POOL_MODE=transaction
PGBOUNCER_MAX_CLIENT_CONN=1000
PGBOUNCER_DEFAULT_POOL_SIZE=25

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_RETRIES=3

# Security
JWT_SECRET=CHANGE_ME_SECURE_JWT_SECRET_HERE_MIN_32_CHARS
JWT_EXPIRY=24h
JWT_REFRESH_EXPIRY=7d
SESSION_SECRET=CHANGE_ME_SECURE_SESSION_SECRET_HERE

# HashiCorp Vault
VAULT_ADDR=http://vault:8200
VAULT_TOKEN=

# OPA (Open Policy Agent)
OPA_URL=http://opa:8181

# Monitoring & Observability
PROMETHEUS_URL=http://prometheus:9090
GRAFANA_URL=http://grafana:3000
JAEGER_URL=http://jaeger:16686
LOKI_URL=http://loki:3100

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
ENABLE_ACCESS_LOGS=true
ENABLE_ERROR_TRACKING=true

# Features
ENABLE_AI_RECOMMENDATIONS=true
ENABLE_COST_OPTIMIZATION=true
ENABLE_DRIFT_DETECTION=true
ENABLE_MULTI_TENANCY=true
ENABLE_AUDIT_LOGGING=true

# Rate Limiting
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_MAX=5

# CORS
ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com

# AI Engine
AI_ENGINE_URL=http://ai-engine:8000
AI_ENGINE_TIMEOUT=30000
OPENAI_API_KEY=
ANTHROPIC_API_KEY=

# Cloud Providers
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1

AZURE_SUBSCRIPTION_ID=
AZURE_TENANT_ID=
AZURE_CLIENT_ID=
AZURE_CLIENT_SECRET=

GCP_PROJECT_ID=
GCP_SERVICE_ACCOUNT_KEY=

# Integrations
SERVICENOW_INSTANCE=
SERVICENOW_USERNAME=
SERVICENOW_PASSWORD=

JIRA_URL=
JIRA_USERNAME=
JIRA_API_TOKEN=

SLACK_WEBHOOK_URL=
SLACK_BOT_TOKEN=

# Email Configuration
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@yourdomain.com

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
S3_BACKUP_BUCKET=

# Performance
MAX_UPLOAD_SIZE=10mb
REQUEST_TIMEOUT=30000
WORKER_THREADS=4

# Docker Registry
DOCKER_REGISTRY=iacdharma
IMAGE_TAG=v2.0.0
