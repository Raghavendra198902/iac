# IAC Dharma API Gateway - Environment Configuration Template
# Copy this file to .env and fill in the values

# ================================
# APPLICATION CONFIGURATION
# ================================
NODE_ENV=development
PORT=3000

# ================================
# SECURITY CONFIGURATION (REQUIRED)
# ================================

# JWT Secret - MUST be set, minimum 32 characters
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# CRITICAL: Change this in production! No fallback provided for security.
JWT_SECRET=

# Allowed CORS Origins (comma-separated)
# Development: http://localhost:3000,http://localhost:5173
# Production: https://app.iacdharma.com,https://admin.iacdharma.com
# REQUIRED in production, wildcard not allowed
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# ================================
# DATABASE CONFIGURATION
# ================================

# PostgreSQL Connection (REQUIRED in production)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=iac_dharma
DB_USER=dharma_admin
# CRITICAL: Must be set in production, no fallback
DB_PASSWORD=dharma_pass_dev

# SSL Certificate for production database (optional)
# DB_CA_CERT=/path/to/ca-certificate.crt

# ================================
# EXTERNAL SERVICES
# ================================

# AI Service Configuration (if applicable)
# OPENAI_API_KEY=
# ANTHROPIC_API_KEY=

# ================================
# LOGGING CONFIGURATION
# ================================
LOG_LEVEL=info
# Options: error, warn, info, debug

# ================================
# DEPLOYMENT CHECKLIST
# ================================
# Before deploying to production:
# [x] Set JWT_SECRET to a strong random value (32+ chars)
# [x] Configure ALLOWED_ORIGINS with specific domains (no wildcards)
# [x] Set DB_PASSWORD (required, no fallback)
# [x] Verify DB_HOST points to production database
# [x] Set NODE_ENV=production
# [x] Review rate limiting settings in src/index.ts
# [x] Enable SSL for database connection (DB_CA_CERT)
# [x] Configure monitoring and alerting
# [x] Set up log aggregation
# [x] Review and apply security audit recommendations

# ================================
# SECURITY NOTES
# ================================
# 1. Never commit .env file to version control
# 2. Use secrets management in production (AWS Secrets Manager, HashiCorp Vault, etc.)
# 3. Rotate JWT_SECRET regularly (every 90 days recommended)
# 4. Use different credentials for each environment
# 5. Monitor failed authentication attempts
# 6. Enable database SSL in production
